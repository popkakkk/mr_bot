# Progressive MR Creation Guide

## ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå Progressive MR Creation

‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á MR ‡πÑ‡∏õ‡∏¢‡∏±‡∏á branch ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å merge ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

## ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö:

1. **‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• Intermediate Commits**: ‡∏™‡∏£‡πâ‡∏≤‡∏á MRs ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö commits ‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏Å‡∏≤‡∏£ merge
2. **Monitor MRs**: ‡∏£‡∏≠‡πÉ‡∏´‡πâ MRs merge ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
3. **Progressive Check**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö repos ‡∏ó‡∏µ‡πà merge ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß
4. **‡∏™‡∏£‡πâ‡∏≤‡∏á MRs ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ**: ‡∏™‡∏£‡πâ‡∏≤‡∏á MRs ‡πÑ‡∏õ‡∏¢‡∏±‡∏á branch ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡πÉ‡∏ô‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:

```
‡∏™‡∏°‡∏°‡∏ï‡∏¥ Branch Flow: [source_branch] ‚Üí ss-dev ‚Üí dev2 ‚Üí sit2

‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô:
- [source_branch] ‚Üí ss-dev: ‡∏°‡∏µ 3 commits ‡∏£‡∏≠ merge

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å merge ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:
- ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ ss-dev ‚Üí dev2 ‡∏°‡∏µ commits ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ ‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á MR ss-dev ‚Üí dev2 ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å ss-dev ‚Üí dev2 merge ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:
- ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ dev2 ‚Üí sit2 ‡∏°‡∏µ commits ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà  
- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ ‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á MR dev2 ‚Üí sit2 ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
```

## ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Progressive (Default):
```bash
# Progressive ‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (source branches ‡∏à‡∏≤‡∏Å config)
./mr-automation.sh --lib-only
./mr-automation.sh --service-only
```

### ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Progressive:
```bash
./mr-automation.sh --lib-only --disable-progressive
./mr-automation.sh --service-only --disable-progressive
```

### ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö Libraries ‡∏´‡∏£‡∏∑‡∏≠ Services ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô:
```bash
# Progressive ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Libraries (intermediate & progressive ‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
./mr-automation.sh --lib-only

# Progressive ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Services (intermediate & progressive ‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
./mr-automation.sh --service-only
```

## ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡∏≠‡∏á Progressive MR

### 1. **‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÄ‡∏ß‡∏•‡∏≤**
- ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡∏°‡πà‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å merge
- MRs ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

### 2. **‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î**
- ‡πÑ‡∏°‡πà‡∏•‡∏∑‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á MR ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö branch ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
- ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

### 3. **‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û**
- ‡∏Å‡∏≤‡∏£ deploy ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô
- ‡∏•‡∏î‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏î‡πâ‡∏ß‡∏¢‡∏°‡∏∑‡∏≠

## ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö Branch Strategies

‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á strategy:

### Strategy A (ms-self-serve, ms-self-serve-batch):
```
[source_branch] ‚Üí ss-dev ‚Üí sit2
```
Progressive ‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:
1. ‡∏´‡∏≤‡∏Å [source_branch] merge ‡πÄ‡∏Ç‡πâ‡∏≤ ss-dev ‡πÅ‡∏•‡πâ‡∏ß
2. ‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á MR ss-dev ‚Üí sit2 (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ commits)

### Strategy B (‡∏≠‡∏∑‡πà‡∏ô‡πÜ):
```
[source_branch] ‚Üí ss-dev ‚Üí dev2 ‚Üí sit2
```
Progressive ‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:
1. [source_branch] ‚Üí ss-dev merge ‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡∏™‡∏£‡πâ‡∏≤‡∏á ss-dev ‚Üí dev2
2. ss-dev ‚Üí dev2 merge ‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡∏™‡∏£‡πâ‡∏≤‡∏á dev2 ‚Üí sit2

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** [source_branch] ‡∏ñ‡∏π‡∏Å‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏ô config.yaml ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞ repository

## ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Output

```
üîÑ Processing Intermediate Commits

# ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥
üîç Processing ms-payment
  [source_branch] ‚Üí ss-dev: ‚úÖ 5 commits
    üöÄ Created MR: [source_branch] ‚Üí ss-dev

üìã Monitoring merge requests...
‚úÖ MR merged successfully: ms-payment

# Progressive Phase
üîç ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏™‡∏£‡πâ‡∏≤‡∏á MR ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á...
‚úÖ Created progressive MR for ms-payment: ss-dev ‚Üí dev2 (3 commits)

üìã Monitoring progressive merge requests...
‚úÖ Progressive MR merged: ms-payment
```

## ‡∏Å‡∏≤‡∏£ Troubleshooting

### 1. Progressive ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- Progressive ‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏ô `--lib-only` ‡πÅ‡∏•‡∏∞ `--service-only`
- ‡πÉ‡∏ä‡πâ `--disable-progressive` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î
- ‡∏î‡∏π log ‡∏ß‡πà‡∏≤‡∏°‡∏µ commits ‡πÉ‡∏ô branch ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

### 2. MR ‡∏ã‡πâ‡∏≥
- ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö MR ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
- ‡πÑ‡∏°‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á MR ‡∏ã‡πâ‡∏≥‡∏ñ‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• source/target ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô

### 3. Debug
```bash
./mr-automation.sh --lib-only --log-level=DEBUG
./mr-automation.sh --service-only --log-level=DEBUG
```

## ‡∏™‡∏£‡∏∏‡∏õ

Progressive MR Creation ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£ deployment ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö end-to-end ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏°‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡∏°